{"remainingRequest":"/Users/fenglin/Desktop/study/backstage/node_modules/thread-loader/dist/cjs.js!/Users/fenglin/Desktop/study/backstage/node_modules/babel-loader/lib/index.js!/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fenglin/Desktop/study/backstage/src/pages/index/commodity/AddMerchandise.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fenglin/Desktop/study/backstage/src/pages/index/commodity/AddMerchandise.vue","mtime":1591779421896},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/thread-loader/dist/cjs.js","mtime":1590894340251},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/babel-loader/lib/index.js","mtime":1590894340261},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js","mtime":1590894353459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEFQSV9HT09EU19DQVRFR09SSUVTLCBBUElfR09PRFNfQUREIH0gZnJvbSAiQC9hcGkvYXBpcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5Zu+54mH5Zyw5Z2ACiAgICAgIGltYWdlOiAnJywKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICcnLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgaW1hZ2VVcmw6ICcnLAogICAgICBsaXN0OiBbXSwKICAgICAgdmFsdWU6ICcnLAogICAgICAvLyDku7fmoLwKICAgICAgbnVtOiAxLAogICAgICBmb3JtTGFiZWxBbGlnbjogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHJlZ2lvbjogIiIsCiAgICAgICAgdHlwZTogJycsCiAgICAgICAgaW1nOiAnJywKICAgICAgICBpbmZvOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgY29uc29sZS5sb2coZmlsZSwgZmlsZUxpc3QpOwogICAgfSwKICAgIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldzogZnVuY3Rpb24gaGFuZGxlUGljdHVyZUNhcmRQcmV2aWV3KGZpbGUpIHsKICAgICAgdGhpcy5kaWFsb2dJbWFnZVVybCA9IGZpbGUudXJsOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKHZhbHVlKSB7CiAgICAgIHRoaXMubnVtID0gdmFsdWU7CiAgICB9LAogICAgaGFuZGxlQXZhdGFyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMpIHsKICAgICAgLy8gdGhpcy5pbWFnZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmltYWdVcmwpOwogICAgICB0aGlzLmltYWdlID0gcmVzLmltZ1VybDsgLy8gY29uc29sZS5sb2codGhpcy5pbWFnZSk7CiAgICB9LAogICAgYmVmb3JlQXZhdGFyVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVBdmF0YXJVcGxvYWQoZmlsZSkgewogICAgICB2YXIgaXNKUEcgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJzsKICAgICAgdmFyIGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMjsKCiAgICAgIGlmICghaXNKUEcpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflj6rog73mmK8gSlBHIOagvOW8jyEnKTsKICAgICAgfQoKICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CIScpOwogICAgICB9CgogICAgICByZXR1cm4gaXNKUEcgJiYgaXNMdDJNOwogICAgfSwKICAgIC8vIG5hbWUJU3RyaW5nCeaYrwnllYblk4HlkI3np7AKICAgIC8vIGNhdGVnb3J5CVN0cmluZwnmmK8J5ZWG5ZOB5YiG57G7CiAgICAvLyBwcmljZQlTdHJpbmcJ5pivCeWVhuWTgeS7t+agvAogICAgLy8gaW1nVXJsCVN0cmluZwnmmK8J5ZWG5ZOB5Zu+54mH5Zyw5Z2ACiAgICAvLyBnb29kc0Rlc2MJU3RyaW5nCeaYrwnllYblk4Hmj4/ov7AKICAgIC8vIEFQSV9HT09EU19BREQgKHRoaXMuaW1hZ2UpLnRoZW4ocmVzPT57CiAgICAvLyB9KQogICAgLy8g54K55Ye75re75Yqg5ZWG5ZOBLOWPkemAgeivt+axggogICAgYWRkX0J0bjogZnVuY3Rpb24gYWRkX0J0bigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZm9ybUxhYmVsQWxpZ24uaW5mbyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKDEpOwogICAgICBBUElfR09PRFNfQUREKHRoaXMuZm9ybUxhYmVsQWxpZ24ubmFtZSwgdGhpcy52YWx1ZSwgdGhpcy5udW0sIHRoaXMuaW1hZ2UsIHRoaXMuZm9ybUxhYmVsQWxpZ24uaW5mbykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfmt7vliqDmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOyAvLyDliLfmlrDmuIXnqbrooajmoLwKCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBBUElfR09PRFNfQ0FURUdPUklFUygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpczIubGlzdCA9IHJlcy5kYXRhLmNhdGVnb3JpZXM7IC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdCk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["AddMerchandise.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,SACA,oBADA,EAEA,aAFA,QAGA,YAHA;AAIA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA,EAHA;AAIA,MAAA,aAAA,EAAA,KAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,IAAA,EAAA,EANA;AAOA,MAAA,KAAA,EAAA,EAPA;AAQA;AACA,MAAA,GAAA,EAAA,CATA;AAUA,MAAA,cAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,GAAA,EAAA,EAJA;AAKA,QAAA,IAAA,EAAA;AALA;AAVA,KAAA;AAmBA,GArBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,IADA,EACA,QADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,EAAA,QAAA;AACA,KAHA;AAIA,IAAA,wBAJA,oCAIA,IAJA,EAIA;AACA,WAAA,cAAA,GAAA,IAAA,CAAA,GAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAPA;AAQA,IAAA,YARA,wBAQA,KARA,EAQA;AACA,WAAA,GAAA,GAAA,KAAA;AACA,KAVA;AAWA,IAAA,mBAXA,+BAWA,GAXA,EAWA;AACA;AACA;AACA,WAAA,KAAA,GAAA,GAAA,CAAA,MAAA,CAHA,CAIA;AAIA,KAnBA;AAoBA,IAAA,kBApBA,8BAoBA,IApBA,EAoBA;AACA,UAAA,KAAA,GAAA,IAAA,CAAA,IAAA,KAAA,YAAA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,IAAA,GAAA,CAAA;;AAEA,UAAA,CAAA,KAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,mBAAA;AACA;;AACA,UAAA,CAAA,MAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,mBAAA;AACA;;AACA,aAAA,KAAA,IAAA,MAAA;AACA,KA/BA;AAiCA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,IAAA,OA1CA,qBA0CA;AAAA;;AACA;AACA;AACA,MAAA,aAAA,CAAA,KAAA,cAAA,CAAA,IAAA,EAAA,KAAA,KAAA,EAAA,KAAA,GAAA,EAAA,KAAA,KAAA,EAAA,KAAA,cAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CACA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,MADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA,EADA,CAKA;;AACA;AACA,OAVA;AAWA;AAxDA,GAtBA;AAiFA,EAAA,OAjFA,qBAiFA;AAAA;;AACA,IAAA,oBAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,UAAA,CADA,CAEA;AACA,KAHA;AAIA;AAtFA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-card class=\"box-card\">\n      <p class=\"list\">商品添加</p>\n      <div></div>\n      <el-form label-width=\"80px\" :model=\"formLabelAlign\">\n        <el-form-item label=\"商品名称\">\n          <el-input v-model=\"formLabelAlign.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品类型\">\n          <template>\n            <el-select v-model=\"value\" placeholder=\"请选择\">\n              <el-option v-for=\"item in list\" :key=\"item.list\" :label=\"item.label\" :value=\"item.cateName\">\n              </el-option>\n            </el-select>\n          </template>\n        </el-form-item>\n        <el-form-item label=\"商品价格\">\n          <el-input-number class=\"price\" v-model=\"num\" @change=\"handleChange\" :min=\"1\" :max=\"100\" label=\"描述文字\">\n          </el-input-number>\n        </el-form-item>\n        <el-form-item label=\"商品图片\">\n          <el-upload action=\"http://127.0.0.1:5000/goods/goods_img_upload\" list-type=\"picture-card\"\n            :on-success=\"handleAvatarSuccess\" :on-preview=\"handlePictureCardPreview\" :on-remove=\"handleRemove\">\n            <i class=\"el-icon-plus\"></i>\n          </el-upload>\n          <el-dialog :visible.sync=\"dialogVisible\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n          </el-dialog>\n        </el-form-item>\n        <el-form-item label=\"商品描述\">\n          <el-input type=\"textarea\" autosize placeholder=\"请输入内容\" v-model=\"formLabelAlign.info\"></el-input>\n        </el-form-item>\n        <el-button type=\"primary\" @click='add_Btn' :plain=\"true\">添加商品</el-button>\n      </el-form>\n      \n    </el-card>\n  </div>\n</template>\n\n<script>\n  import {\n    API_GOODS_CATEGORIES,\n    API_GOODS_ADD\n  } from \"@/api/apis\";\n  export default {\n    data() {\n      return {\n        // 图片地址\n        image: '',\n        dialogImageUrl: '',\n        dialogVisible: false,\n        imageUrl: '',\n        list: [],\n        value: '',\n        // 价格\n        num: 1,\n        formLabelAlign: {\n          name: \"\",\n          region: \"\",\n          type: '',\n          img: '',\n          info: ''\n        },\n\n      };\n    },\n    methods: {\n      handleRemove(file, fileList) {\n        console.log(file, fileList);\n      },\n      handlePictureCardPreview(file) {\n        this.dialogImageUrl = file.url;\n        this.dialogVisible = true;\n      },\n      handleChange(value) {\n        this.num = value\n      },\n      handleAvatarSuccess(res) {\n        // this.imageUrl = URL.createObjectURL(file.raw);\n        // console.log(this.imagUrl);\n        this.image = res.imgUrl;\n        // console.log(this.image);\n\n\n\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n\n        if (!isJPG) {\n          this.$message.error('上传头像图片只能是 JPG 格式!');\n        }\n        if (!isLt2M) {\n          this.$message.error('上传头像图片大小不能超过 2MB!');\n        }\n        return isJPG && isLt2M;\n      },\n\n      // name\tString\t是\t商品名称\n      // category\tString\t是\t商品分类\n      // price\tString\t是\t商品价格\n      // imgUrl\tString\t是\t商品图片地址\n      // goodsDesc\tString\t是\t商品描述\n      // API_GOODS_ADD (this.image).then(res=>{\n\n      // })\n      // 点击添加商品,发送请求\n      add_Btn() {\n        // console.log(this.formLabelAlign.info);\n        // console.log(1);\n        API_GOODS_ADD(this.formLabelAlign.name, this.value, this.num, this.image, this.formLabelAlign.info).then(\n          res => {\n            // console.log(res);\n            if (res.data.code == 0) {\n              this.$message({\n                message: '添加成功',\n                type: 'success'\n              });\n              // 刷新清空表格\n            }\n          })\n      },\n    \n    },\n    created() {\n      API_GOODS_CATEGORIES().then(res => {\n        this.list = res.data.categories\n        // console.log(this.list);\n      })\n    },\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .box-card {\n\n    .list+div {\n      margin: 20px;\n    }\n\n    .price {\n      width: 400px;\n    }\n\n    .el-input__inner {\n    width: 400px !important;\n\n\n    }\n    .el-input__inner{\n  }\n\n    .avatar-uploader .el-upload {\n      border: 1px dashed #d9d9d9;\n      border-radius: 6px;\n      cursor: pointer;\n      position: relative;\n      overflow: hidden;\n    }\n\n    .avatar-uploader .el-upload:hover {\n      border-color: #409EFF;\n    }\n\n    .avatar-uploader-icon {\n      font-size: 28px;\n      color: #8c939d;\n      width: 178px;\n      height: 178px;\n      line-height: 178px;\n      text-align: center;\n    }\n\n    .avatar {\n      width: 178px;\n      height: 178px;\n      display: block;\n    }\n\n  }\n</style>"],"sourceRoot":"src/pages/index/commodity"}]}