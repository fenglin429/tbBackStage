{"remainingRequest":"/Users/fenglin/Desktop/study/backstage/node_modules/babel-loader/lib/index.js!/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fenglin/Desktop/study/backstage/src/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fenglin/Desktop/study/backstage/src/pages/Login.vue","mtime":1591592589459},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/babel-loader/lib/index.js","mtime":1590894340261},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js","mtime":1590894353459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQVBJX0NIRUNLTE9HSU4gfSBmcm9tICJAL2FwaS9hcGlzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsvLyBpbmRleAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlucHV0X3VzZXI6ICIiLAogICAgICBpbnB1dF9wd2Q6ICIiLAogICAgICBmbGFnOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2xpY2tMb2dpbjogZnVuY3Rpb24gY2xpY2tMb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKDEpCiAgICAgIC8vIOeCueWHu+eZu+W9leaMiemSrizlpoLmnpzmoIforrDkuLogZmFsc2Ug55qE6K+d5LiN57un57ut5omn6KGMCiAgICAgIGlmICh0aGlzLmZsYWcgPT0gZmFsc2UpIHJldHVybjsgLy8g5Y+R6YCB6K+35rGCLOWwhuagh+iusOWPmOS4uiBmYWxzZQoKICAgICAgdGhpcy5mbGFnID0gZmFsc2U7CiAgICAgIEFQSV9DSEVDS0xPR0lOKHRoaXMuaW5wdXRfdXNlciwgdGhpcy5pbnB1dF9wd2QpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLmNvZGUpOwogICAgICAgIC8vIOeZu+W9leaIkOWKnwogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi5oGt5Zac5oKoLOeZu+W9leaIkOWKn34iLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOyAvLyDot7PovazliLDpppbpobUKCgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvaW5kZXgvaG9tZSIpOyAvL+aKiiBpZCAgdG9rZW4gIOeUqOaIt+WQjeWtmOWCqOWIsOacrOWcsAogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEuaWQpCiAgICAgICAgICAvLyB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJfaWQnLHJlcy5kYXRhLmlkKQoKCiAgICAgICAgICBsb2NhbFN0b3JhZ2UudXNlcl9pZCA9IHJlcy5kYXRhLmlkOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnVzZXJfbmFtZSA9IF90aGlzLmlucHV0X3VzZXI7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UudG9rZW4gPSByZXMuZGF0YS50b2tlbjsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yb2xlID0gcmVzLmRhdGEucm9sZTsgLy8g6ZSZ6K+v55qE6K+dCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAiwqDnlKjmiLflkI3miJbogIXlr4bnoIHplJnor69+IiwKICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOyAvLyAzIOenkuWGheWPquiDveWPkemAgeS4gOasoeivt+axgiwzIOenkuS5i+WQjuWwhuagh+iusOe9ruS4uiB0cnVlCgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5mbGFnID0gdHJ1ZTsKICAgICAgfSwgMzAwMCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAgBA,SAAA,cAAA,QAAA,YAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA,CACA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA;AACA;AACA,UAAA,KAAA,IAAA,IAAA,KAAA,EAAA,OAHA,CAIA;;AACA,WAAA,IAAA,GAAA,KAAA;AACA,MAAA,cAAA,CAAA,KAAA,UAAA,EAAA,KAAA,SAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,SAAA,EAAA,IADA;AAEA,YAAA,OAAA,EAAA,WAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA,EADA,CAMA;;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA,EAPA,CAQA;AACA;AACA;;;AACA,UAAA,YAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,UAAA,YAAA,CAAA,SAAA,GAAA,KAAA,CAAA,UAAA;AACA,UAAA,YAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,UAAA,YAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAdA,CAeA;AACA,SAhBA,MAgBA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,SAAA,EAAA,IADA;AAEA,YAAA,OAAA,EAAA,aAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA;AAKA;AACA,OA1BA,EANA,CAiCA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AAtCA;AAXA,CAAA","sourcesContent":["<template>\n  <div class=\"box\">\n    <h1>系统登录</h1>\n    <div class=\"input\">\n      <el-input placeholder=\"请输入管理员账号\" v-model=\"input_user\" clearable></el-input>\n    </div>\n    <div class=\"input\">\n      <el-input placeholder=\"请输入密码\" v-model=\"input_pwd\" show-password></el-input>\n    </div>\n    <div>\n      <el-button type=\"info\" :plain=\"true\" @click=\"clickLogin\">登录</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { API_CHECKLOGIN } from \"@/api/apis\";\n  export default {\n    components: {\n      // index\n    },\n    data() {\n      return {\n        input_user: \"\",\n        input_pwd: \"\",\n        flag: true\n      };\n    },\n    methods: {\n      clickLogin() {\n        // console.log(1)\n        // 点击登录按钮,如果标记为 false 的话不继续执行\n        if (this.flag == false) return;\n        // 发送请求,将标记变为 false\n        this.flag = false;\n        API_CHECKLOGIN(this.input_user, this.input_pwd).then((res) => {\n          // console.log(res.data.code);\n          // 登录成功\n          if (res.data.code == 0) {\n            this.$message({\n              showClose: true,\n              message: \"恭喜您,登录成功~\",\n              type: \"success\"\n            });\n            // 跳转到首页\n            this.$router.push(\"/index/home\");\n            //把 id  token  用户名存储到本地\n            // console.log(res.data.id)\n            // window.localStorage.setItem('user_id',res.data.id)\n            localStorage.user_id = res.data.id;\n            localStorage.user_name = this.input_user;\n            localStorage.token = res.data.token;\n            localStorage.role = res.data.role;\n            // 错误的话\n          } else {\n            this.$message({\n              showClose: true,\n              message: \" 用户名或者密码错误~\",\n              type: \"warning\"\n            });\n          }\n        });\n        // 3 秒内只能发送一次请求,3 秒之后将标记置为 true\n        setTimeout(() => {\n          this.flag = true;\n        }, 3000);\n      }\n    }\n  };\n</script>\n\n<style lang=\"less\" >\n  * {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    height: 100%;\n    width: 100%;\n\n    #app {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      .box {\n        width: 400px;\n        height: 300px;\n\n        h1 {\n          text-align: center;\n          color: rgb(24, 24, 24);\n          font-size: 26px;\n        }\n\n        .input {\n          margin: 15px 0;\n\n          .el-input {\n            vertical-align: bottom;\n            display: inline-block;\n          }\n        }\n\n        .el-button {\n          width: 100%;\n          margin: 25px 0px;\n          height: 40px;\n          font-size: 18px;\n        }\n      }\n    }\n  }\n</style>"],"sourceRoot":"src/pages"}]}