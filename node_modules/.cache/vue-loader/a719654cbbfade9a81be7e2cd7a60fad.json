{"remainingRequest":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fenglin/Desktop/study/backstage/src/pages/index/commodity/AddMerchandise.vue?vue&type=style&index=0&id=73284945&lang=less&scoped=true&","dependencies":[{"path":"/Users/fenglin/Desktop/study/backstage/src/pages/index/commodity/AddMerchandise.vue","mtime":1591779421896},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/css-loader/dist/cjs.js","mtime":1590894352757},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1590894353459},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/postcss-loader/src/index.js","mtime":1590894353111},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/less-loader/dist/cjs.js","mtime":1591183686071},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js","mtime":1590894353459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5ib3gtY2FyZCB7CgogIC5saXN0K2RpdiB7CiAgICBtYXJnaW46IDIwcHg7CiAgfQoKICAucHJpY2UgewogICAgd2lkdGg6IDQwMHB4OwogIH0KCiAgLmVsLWlucHV0X19pbm5lciB7CiAgd2lkdGg6IDQwMHB4ICFpbXBvcnRhbnQ7CgoKICB9CiAgLmVsLWlucHV0X19pbm5lcnsKfQoKICAuYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQgewogICAgYm9yZGVyOiAxcHggZGFzaGVkICNkOWQ5ZDk7CiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogIH0KCiAgLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkOmhvdmVyIHsKICAgIGJvcmRlci1jb2xvcjogIzQwOUVGRjsKICB9CgogIC5hdmF0YXItdXBsb2FkZXItaWNvbiB7CiAgICBmb250LXNpemU6IDI4cHg7CiAgICBjb2xvcjogIzhjOTM5ZDsKICAgIHdpZHRoOiAxNzhweDsKICAgIGhlaWdodDogMTc4cHg7CiAgICBsaW5lLWhlaWdodDogMTc4cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgfQoKICAuYXZhdGFyIHsKICAgIHdpZHRoOiAxNzhweDsKICAgIGhlaWdodDogMTc4cHg7CiAgICBkaXNwbGF5OiBibG9jazsKICB9Cgp9Cg=="},{"version":3,"sources":["AddMerchandise.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"AddMerchandise.vue","sourceRoot":"src/pages/index/commodity","sourcesContent":["<template>\n  <div>\n    <el-card class=\"box-card\">\n      <p class=\"list\">商品添加</p>\n      <div></div>\n      <el-form label-width=\"80px\" :model=\"formLabelAlign\">\n        <el-form-item label=\"商品名称\">\n          <el-input v-model=\"formLabelAlign.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品类型\">\n          <template>\n            <el-select v-model=\"value\" placeholder=\"请选择\">\n              <el-option v-for=\"item in list\" :key=\"item.list\" :label=\"item.label\" :value=\"item.cateName\">\n              </el-option>\n            </el-select>\n          </template>\n        </el-form-item>\n        <el-form-item label=\"商品价格\">\n          <el-input-number class=\"price\" v-model=\"num\" @change=\"handleChange\" :min=\"1\" :max=\"100\" label=\"描述文字\">\n          </el-input-number>\n        </el-form-item>\n        <el-form-item label=\"商品图片\">\n          <el-upload action=\"http://127.0.0.1:5000/goods/goods_img_upload\" list-type=\"picture-card\"\n            :on-success=\"handleAvatarSuccess\" :on-preview=\"handlePictureCardPreview\" :on-remove=\"handleRemove\">\n            <i class=\"el-icon-plus\"></i>\n          </el-upload>\n          <el-dialog :visible.sync=\"dialogVisible\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n          </el-dialog>\n        </el-form-item>\n        <el-form-item label=\"商品描述\">\n          <el-input type=\"textarea\" autosize placeholder=\"请输入内容\" v-model=\"formLabelAlign.info\"></el-input>\n        </el-form-item>\n        <el-button type=\"primary\" @click='add_Btn' :plain=\"true\">添加商品</el-button>\n      </el-form>\n      \n    </el-card>\n  </div>\n</template>\n\n<script>\n  import {\n    API_GOODS_CATEGORIES,\n    API_GOODS_ADD\n  } from \"@/api/apis\";\n  export default {\n    data() {\n      return {\n        // 图片地址\n        image: '',\n        dialogImageUrl: '',\n        dialogVisible: false,\n        imageUrl: '',\n        list: [],\n        value: '',\n        // 价格\n        num: 1,\n        formLabelAlign: {\n          name: \"\",\n          region: \"\",\n          type: '',\n          img: '',\n          info: ''\n        },\n\n      };\n    },\n    methods: {\n      handleRemove(file, fileList) {\n        console.log(file, fileList);\n      },\n      handlePictureCardPreview(file) {\n        this.dialogImageUrl = file.url;\n        this.dialogVisible = true;\n      },\n      handleChange(value) {\n        this.num = value\n      },\n      handleAvatarSuccess(res) {\n        // this.imageUrl = URL.createObjectURL(file.raw);\n        // console.log(this.imagUrl);\n        this.image = res.imgUrl;\n        // console.log(this.image);\n\n\n\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n\n        if (!isJPG) {\n          this.$message.error('上传头像图片只能是 JPG 格式!');\n        }\n        if (!isLt2M) {\n          this.$message.error('上传头像图片大小不能超过 2MB!');\n        }\n        return isJPG && isLt2M;\n      },\n\n      // name\tString\t是\t商品名称\n      // category\tString\t是\t商品分类\n      // price\tString\t是\t商品价格\n      // imgUrl\tString\t是\t商品图片地址\n      // goodsDesc\tString\t是\t商品描述\n      // API_GOODS_ADD (this.image).then(res=>{\n\n      // })\n      // 点击添加商品,发送请求\n      add_Btn() {\n        // console.log(this.formLabelAlign.info);\n        // console.log(1);\n        API_GOODS_ADD(this.formLabelAlign.name, this.value, this.num, this.image, this.formLabelAlign.info).then(\n          res => {\n            // console.log(res);\n            if (res.data.code == 0) {\n              this.$message({\n                message: '添加成功',\n                type: 'success'\n              });\n              // 刷新清空表格\n            }\n          })\n      },\n    \n    },\n    created() {\n      API_GOODS_CATEGORIES().then(res => {\n        this.list = res.data.categories\n        // console.log(this.list);\n      })\n    },\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .box-card {\n\n    .list+div {\n      margin: 20px;\n    }\n\n    .price {\n      width: 400px;\n    }\n\n    .el-input__inner {\n    width: 400px !important;\n\n\n    }\n    .el-input__inner{\n  }\n\n    .avatar-uploader .el-upload {\n      border: 1px dashed #d9d9d9;\n      border-radius: 6px;\n      cursor: pointer;\n      position: relative;\n      overflow: hidden;\n    }\n\n    .avatar-uploader .el-upload:hover {\n      border-color: #409EFF;\n    }\n\n    .avatar-uploader-icon {\n      font-size: 28px;\n      color: #8c939d;\n      width: 178px;\n      height: 178px;\n      line-height: 178px;\n      text-align: center;\n    }\n\n    .avatar {\n      width: 178px;\n      height: 178px;\n      display: block;\n    }\n\n  }\n</style>"]}]}