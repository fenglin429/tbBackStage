{"remainingRequest":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fenglin/Desktop/study/backstage/src/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fenglin/Desktop/study/backstage/src/pages/Login.vue","mtime":1591872079751},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/thread-loader/dist/cjs.js","mtime":1590894340251},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/babel-loader/lib/index.js","mtime":1590894340261},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js","mtime":1590894353459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgQVBJX0NIRUNLTE9HSU4KfSBmcm9tICJAL2FwaS9hcGlzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIC8vIGluZGV4CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5wdXRfdXNlcjogIiIsCiAgICAgIGlucHV0X3B3ZDogIiIsCiAgICAgIGZsYWc6IHRydWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbGlja0xvZ2luKCkgewogICAgICAvLyBjb25zb2xlLmxvZygxKQogICAgICAvLyDngrnlh7vnmbvlvZXmjInpkq4s5aaC5p6c5qCH6K6w5Li6IGZhbHNlIOeahOivneS4jee7p+e7reaJp+ihjAogICAgICBpZiAodGhpcy5mbGFnID09IGZhbHNlKSByZXR1cm47CiAgICAgIC8vIOWPkemAgeivt+axgizlsIbmoIforrDlj5jkuLogZmFsc2UKICAgICAgdGhpcy5mbGFnID0gZmFsc2U7CiAgICAgIEFQSV9DSEVDS0xPR0lOKHRoaXMuaW5wdXRfdXNlciwgdGhpcy5pbnB1dF9wd2QpLnRoZW4oKHJlcykgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLmNvZGUpOwogICAgICAgIC8vIOeZu+W9leaIkOWKnwogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLmga3llpzmgqgs55m75b2V5oiQ5YqffiIsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgICAvLyDot7PovazliLDpppbpobUKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaW5kZXgvaG9tZSIpOwogICAgICAgICAgLy/mioogaWQgIHRva2VuICDnlKjmiLflkI3lrZjlgqjliLDmnKzlnLAKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLmlkKQogICAgICAgICAgLy8gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyX2lkJyxyZXMuZGF0YS5pZCkKICAgICAgICAgIGxvY2FsU3RvcmFnZS51c2VyX2lkID0gcmVzLmRhdGEuaWQ7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UudXNlcl9uYW1lID0gdGhpcy5pbnB1dF91c2VyOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnRva2VuID0gcmVzLmRhdGEudG9rZW47CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uucm9sZSA9IHJlcy5kYXRhLnJvbGU7CiAgICAgICAgICAvLyDplJnor6/nmoTor50KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIsKg55So5oi35ZCN5oiW6ICF5a+G56CB6ZSZ6K+vfiIsCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLy8gMyDnp5LlhoXlj6rog73lj5HpgIHkuIDmrKHor7fmsYIsMyDnp5LkuYvlkI7lsIbmoIforrDnva7kuLogdHJ1ZQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmZsYWcgPSB0cnVlOwogICAgICB9LCAzMDAwKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"login-div\">\n    <el-card class=\"box-card\">\n      <h4>天霸餐饮管理系统</h4>\n      <el-input v-model=\"input_user\" placeholder=\"请输入管理员账号\"></el-input>\n      <el-input class=\"pwd-input\" v-model=\"input_pwd\" placeholder=\"请输入密码\"></el-input>\n      <el-button @click=\"clickLogin\" type=\"primary\" class=\"btn\">登录</el-button>\n    </el-card>\n  </div>\n</template>\n\n<script>\n  import {\n    API_CHECKLOGIN\n  } from \"@/api/apis\";\n  export default {\n    components: {\n      // index\n    },\n    data() {\n      return {\n        input_user: \"\",\n        input_pwd: \"\",\n        flag: true\n      };\n    },\n    methods: {\n      clickLogin() {\n        // console.log(1)\n        // 点击登录按钮,如果标记为 false 的话不继续执行\n        if (this.flag == false) return;\n        // 发送请求,将标记变为 false\n        this.flag = false;\n        API_CHECKLOGIN(this.input_user, this.input_pwd).then((res) => {\n          // console.log(res.data.code);\n          // 登录成功\n          if (res.data.code == 0) {\n            this.$message({\n              showClose: true,\n              message: \"恭喜您,登录成功~\",\n              type: \"success\"\n            });\n            // 跳转到首页\n            this.$router.push(\"/index/home\");\n            //把 id  token  用户名存储到本地\n            // console.log(res.data.id)\n            // window.localStorage.setItem('user_id',res.data.id)\n            localStorage.user_id = res.data.id;\n            localStorage.user_name = this.input_user;\n            localStorage.token = res.data.token;\n            localStorage.role = res.data.role;\n            // 错误的话\n          } else {\n            this.$message({\n              showClose: true,\n              message: \" 用户名或者密码错误~\",\n              type: \"warning\"\n            });\n          }\n        });\n        // 3 秒内只能发送一次请求,3 秒之后将标记置为 true\n        setTimeout(() => {\n          this.flag = true;\n        }, 3000);\n      }\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  @base: #2d3a4b;\n  \n  .login-div {\n    width: 100%;\n    height: 100%;\n    background: url(../assets/imgs/tim.jpeg);\n    /* background-color: @base; */\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  \n    .box-card {\n      width: 400px;\n      text-align: center;\n  \n      h4{\n          color: @base;\n          margin: 16px 0;\n      }\n  \n      .pwd-input {\n        margin-top: 16px;\n      }\n      .btn {\n        margin-top: 20px;\n        width: 100%;\n      }\n    }\n  }\n  </style>"]}]}