{"remainingRequest":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fenglin/Desktop/study/backstage/src/pages/index/account/Change.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fenglin/Desktop/study/backstage/src/pages/index/account/Change.vue","mtime":1591592608934},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/thread-loader/dist/cjs.js","mtime":1590894340251},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/babel-loader/lib/index.js","mtime":1590894340261},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js","mtime":1590894353459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEBjbGljaz0iY2FuY2VsX2J0biIgRWRpdHB3ZAovLyDkv67mlLnlr4bnoIEKLy8g5qOA5rWL5pen5a+G56CBCmltcG9ydCB7IEFQSV9DSEVDS09MRFBXRCAsQVBJX0VESVRQV0QgfSBmcm9tICJAL2FwaS9hcGlzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgcHdkMTogIiIsCiAgICAgICAgcHdkOiAiIiwKICAgICAgICBwd2QyOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5qOA5rWL5pen5a+G56CBCiAgICBhZmZpcm1fYnRuKCkgewogICAgICBpZiAodGhpcy5mb3JtLnB3ZDEgIT0gdGhpcy5mb3JtLnB3ZDIpIHsKICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfplJnkuoblk6Ys5Lik5qyh5a+G56CB5LiN5LiA6Ie05ZOmficpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLnVzZXJfaWQ7CiAgICAgIC8vIGNvbnNvbGUubG9nKGlkKQogICAgIEFQSV9DSEVDS09MRFBXRCAgKHRoaXMuZm9ybS5wd2QsIGlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICBBUElfRURJVFBXRCh0aGlzLmZvcm0ucHdkMSwgaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgLy8g6K+05piO5L+u5pS55oiQ5Yqf5LqGCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgLy8gMS7muIXpmaTmnKzlnLDlrZjlgqgsMi7ot7PovazliLDnmbvlvZXpobXpnaIKICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJfaWQiKTsKICAgICAgICAgICAgICAvLyDot7PovawKICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKDEpCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Change.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Change.vue","sourceRoot":"src/pages/index/account","sourcesContent":["<template>\n  <el-card class=\"box-card\">\n    <div slot=\"header\" class=\"clearfix\">\n      <span>修改密码</span>\n    </div>\n    <el-form ref=\"form\" :model=\"form\" label-width=\"100px\">\n      <el-form-item label=\"原密码\">\n        <el-input v-model=\"form.pwd\"></el-input>\n      </el-form-item>\n      <el-form-item label=\" 新密码\">\n        <el-input v-model=\"form.pwd1\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认新密码\">\n        <el-input v-model=\"form.pwd2\"></el-input>\n      </el-form-item>\n      <el-button @click=\"affirm_btn\" :plain=\"true\">确认</el-button>\n      <el-button type=\"primary\">重置</el-button>\n    </el-form>\n  </el-card>\n</template>\n\n<script>\n// @click=\"cancel_btn\" Editpwd\n// 修改密码\n// 检测旧密码\nimport { API_CHECKOLDPWD ,API_EDITPWD } from \"@/api/apis\";\nexport default {\n  data() {\n    return {\n      form: {\n        pwd1: \"\",\n        pwd: \"\",\n        pwd2: \"\"\n      }\n    };\n  },\n  methods: {\n    // 检测旧密码\n    affirm_btn() {\n      if (this.form.pwd1 != this.form.pwd2) {\n           this.$message.error('错了哦,两次密码不一致哦~');\n        return;\n      }\n      let id = window.localStorage.user_id;\n      // console.log(id)\n     API_CHECKOLDPWD  (this.form.pwd, id).then(res => {\n        // console.log(res);\n        if (res.data.code == 0) {\n          API_EDITPWD(this.form.pwd1, id).then(res => {\n            // console.log(res);\n            // 说明修改成功了\n            if (res.data.code == 0) {\n                this.$message({\n                showClose: true,\n                message: res.data.msg,\n                type: \"success\"\n              });\n              // 1.清除本地存储,2.跳转到登录页面\n              window.localStorage.removeItem(\"user_id\");\n              // 跳转\n              setTimeout(() => {\n                  this.$router.push(\"/\");\n              }, 3000);\n            \n            }\n          });\n        }\n      });\n      // console.log(1)\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>"]}]}