{"remainingRequest":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fenglin/Desktop/study/backstage/src/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fenglin/Desktop/study/backstage/src/pages/Login.vue","mtime":1591592589459},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/babel-loader/lib/index.js","mtime":1590894340261},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js","mtime":1590894353459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEFQSV9DSEVDS0xPR0lOIH0gZnJvbSAiQC9hcGkvYXBpcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAvLyBpbmRleAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlucHV0X3VzZXI6ICIiLAogICAgICBpbnB1dF9wd2Q6ICIiLAogICAgICBmbGFnOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2xpY2tMb2dpbigpIHsKICAgICAgLy8gY29uc29sZS5sb2coMSkKICAgICAgLy8g54K55Ye755m75b2V5oyJ6ZKuLOWmguaenOagh+iusOS4uiBmYWxzZSDnmoTor53kuI3nu6fnu63miafooYwKICAgICAgaWYgKHRoaXMuZmxhZyA9PSBmYWxzZSkgcmV0dXJuOwogICAgICAvLyDlj5HpgIHor7fmsYIs5bCG5qCH6K6w5Y+Y5Li6IGZhbHNlCiAgICAgIHRoaXMuZmxhZyA9IGZhbHNlOwogICAgICBBUElfQ0hFQ0tMT0dJTih0aGlzLmlucHV0X3VzZXIsIHRoaXMuaW5wdXRfcHdkKS50aGVuKChyZXMpID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5jb2RlKTsKICAgICAgICAvLyDnmbvlvZXmiJDlip8KICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi5oGt5Zac5oKoLOeZu+W9leaIkOWKn34iLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwogICAgICAgICAgLy8g6Lez6L2s5Yiw6aaW6aG1CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2luZGV4L2hvbWUiKTsKICAgICAgICAgIC8v5oqKIGlkICB0b2tlbiAg55So5oi35ZCN5a2Y5YKo5Yiw5pys5ZywCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5pZCkKICAgICAgICAgIC8vIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcl9pZCcscmVzLmRhdGEuaWQpCiAgICAgICAgICBsb2NhbFN0b3JhZ2UudXNlcl9pZCA9IHJlcy5kYXRhLmlkOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnVzZXJfbmFtZSA9IHRoaXMuaW5wdXRfdXNlcjsKICAgICAgICAgIGxvY2FsU3RvcmFnZS50b2tlbiA9IHJlcy5kYXRhLnRva2VuOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJvbGUgPSByZXMuZGF0YS5yb2xlOwogICAgICAgICAgLy8g6ZSZ6K+v55qE6K+dCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLCoOeUqOaIt+WQjeaIluiAheWvhueggemUmeivr34iLAogICAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIC8vIDMg56eS5YaF5Y+q6IO95Y+R6YCB5LiA5qyh6K+35rGCLDMg56eS5LmL5ZCO5bCG5qCH6K6w572u5Li6IHRydWUKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTsKICAgICAgfSwgMzAwMCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"box\">\n    <h1>系统登录</h1>\n    <div class=\"input\">\n      <el-input placeholder=\"请输入管理员账号\" v-model=\"input_user\" clearable></el-input>\n    </div>\n    <div class=\"input\">\n      <el-input placeholder=\"请输入密码\" v-model=\"input_pwd\" show-password></el-input>\n    </div>\n    <div>\n      <el-button type=\"info\" :plain=\"true\" @click=\"clickLogin\">登录</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { API_CHECKLOGIN } from \"@/api/apis\";\n  export default {\n    components: {\n      // index\n    },\n    data() {\n      return {\n        input_user: \"\",\n        input_pwd: \"\",\n        flag: true\n      };\n    },\n    methods: {\n      clickLogin() {\n        // console.log(1)\n        // 点击登录按钮,如果标记为 false 的话不继续执行\n        if (this.flag == false) return;\n        // 发送请求,将标记变为 false\n        this.flag = false;\n        API_CHECKLOGIN(this.input_user, this.input_pwd).then((res) => {\n          // console.log(res.data.code);\n          // 登录成功\n          if (res.data.code == 0) {\n            this.$message({\n              showClose: true,\n              message: \"恭喜您,登录成功~\",\n              type: \"success\"\n            });\n            // 跳转到首页\n            this.$router.push(\"/index/home\");\n            //把 id  token  用户名存储到本地\n            // console.log(res.data.id)\n            // window.localStorage.setItem('user_id',res.data.id)\n            localStorage.user_id = res.data.id;\n            localStorage.user_name = this.input_user;\n            localStorage.token = res.data.token;\n            localStorage.role = res.data.role;\n            // 错误的话\n          } else {\n            this.$message({\n              showClose: true,\n              message: \" 用户名或者密码错误~\",\n              type: \"warning\"\n            });\n          }\n        });\n        // 3 秒内只能发送一次请求,3 秒之后将标记置为 true\n        setTimeout(() => {\n          this.flag = true;\n        }, 3000);\n      }\n    }\n  };\n</script>\n\n<style lang=\"less\" >\n  * {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    height: 100%;\n    width: 100%;\n\n    #app {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      .box {\n        width: 400px;\n        height: 300px;\n\n        h1 {\n          text-align: center;\n          color: rgb(24, 24, 24);\n          font-size: 26px;\n        }\n\n        .input {\n          margin: 15px 0;\n\n          .el-input {\n            vertical-align: bottom;\n            display: inline-block;\n          }\n        }\n\n        .el-button {\n          width: 100%;\n          margin: 25px 0px;\n          height: 40px;\n          font-size: 18px;\n        }\n      }\n    }\n  }\n</style>"]}]}