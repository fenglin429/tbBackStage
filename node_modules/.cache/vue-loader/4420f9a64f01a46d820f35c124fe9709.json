{"remainingRequest":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fenglin/Desktop/study/backstage/src/pages/index/commodity/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fenglin/Desktop/study/backstage/src/pages/index/commodity/Product.vue","mtime":1591755294615},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/babel-loader/lib/index.js","mtime":1590894340261},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js","mtime":1590894353459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOiOt+WPluWIoOmZpOa3u+WKoAppbXBvcnQgewogIEFQSV9HT09EU19MSVNULAogIEFQSV9HT09EU19ERUwKICAvLyBBUElfR09PRFNfRURJVAp9IGZyb20gIkAvYXBpL2FwaXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOesrOWHoOmhtQogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIC8vIOaooeaAgeahhueahOaYvuekugogICAgICBkaWFsb2dGb3JtVmlzaWJsZTRFZGl0OiBmYWxzZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAoKICAgICAgdGFibGVEYXRhOiBbXSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIhumhtTrliqjmgIHmr4/pobXmmL7npLrmnaHmlbAKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGAke3ZhbH1gKTsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsgLy/liqjmgIHmlLnlj5gKICAgICAgLy8gY29uc29sZS5sb2coICB0aGlzLnBhZ2VTaXplICk7CiAgICAgIHRoaXMuYWNxdWlyZV9saXN0KCkKCgogICAgICAvLyDmlLnlj5jkuYvlkI7lupTor6XlgZznlZnlnKjlvZPliY3nmoTpobXpnaIKICAgICAgLy8gdGhpcy5yZWZyZXNoKHRoaXMuY3VycmVudFBhZ2UpCiAgICB9LAogICAgLy8g5YiG6aG1OuWKqOaAgeW9k+WJjemhtSznrKzlh6DpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGAke3ZhbH1gKTsKICAgICAgLy/liqjmgIHmlLnlj5g65q+P6aG15aSa5bCR5p2hCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7CiAgICAgIC8vIGNvbnNvbGUubG9nKCB0aGlzLmN1cnJlbnRQYWdlKTsKICAgICAgdGhpcy5hY3F1aXJlX2xpc3QoKQoKCiAgICAgIC8vIHRoaXMucmVmcmVzaCh0aGlzLmN1cnJlbnRQYWdlKQoKICAgIH0sCiAgICAvLyDnvJbovpHmqKHmgIHmoYYKICAgIGhhbmRsZUVkaXQoaW5kZXgsIHJvdykgewogICAgICAvLyBjb25zb2xlLmxvZygn5b2T5YmN6KGM55qE5pWw5o2uOicscm93KTsKICAgICAgLy8g5pi+56S65qih5oCB5qGGCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGU0RWRpdCA9IHRydWU7CiAgICAgIC8vIOWkjeWItue7mSBmb3JtCiAgICAgIHRoaXMuZm9ybSA9IHJvdwogICAgICAvLyBjb25zb2xlLmxvZygn5aSN5Yi255qE5b2T5YmN6KGM5pWw5o2uOicsdGhpcy5mb3JtKTsKICAgICAgLy8g5b2T5YmN6KGM5Y6f5p2l55qE54q25oCBICA9PT0+5qih5oCB5qGG55qE54q25oCBIAogICAgfSwKICAgIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeaVsOaNriwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBBUElfR09PRFNfREVMKHJvdy5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgICAvLyDph43mlrDmuLLmn5MKICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCkKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip9+IiwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pCiAgICAgIC8vIGNvbnNvbGUubG9nKHJvdy5pZCk7CiAgICB9LAogICAgLy8g6I635Y+W5YiX6KGoCiAgICBhY3F1aXJlX2xpc3QoKSB7CiAgICAgIEFQSV9HT09EU19MSVNUKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucGFnZVNpemUpLnRoZW4ocmVzID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5kYXRhKTsKICAgICAgICAvLyDmgLvmnaHmlbAKICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgICAgLy8g5pWw5o2uCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAvLyBmb3IobGV0IGkgb2YgdGhpcy50YWJsZURhdGEgKXsKICAgICAgICAvLyAgIGkuaW1nVXJsRnVsbD0KICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGkuaW1nVXJsRnVsbCk7CgogICAgICAgIC8vIH0KICAgICAgICAvLyB0aGlzLmltZ1VybD1yZXMuZGF0YS5kYXRhOwoKCiAgICAgICAgLy8gY29uc29sZS5sb2coIHRoaXMuaW1nVXJsKTsKICAgICAgfSkKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmFjcXVpcmVfbGlzdCgpCiAgfSwKfTsK"},{"version":3,"sources":["Product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Product.vue","sourceRoot":"src/pages/index/commodity","sourcesContent":["<template>\n  <el-card class=\"box-card\">\n    <p class=\"list\">商品列表</p>\n    <el-table :data=\"tableData\" style=\"width: 100%\">\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"商品名称\">\n              <span>{{ props.row.name }}</span>\n            </el-form-item>\n            <el-form-item label=\"所属店铺\">\n              <span>{{ props.row.shop }}</span>\n            </el-form-item>\n            <el-form-item label=\"所属店铺\">\n              <span>{{ props.row.shop }}</span>\n            </el-form-item>\n            <el-form-item label=\"所属店铺\">\n              <span>{{ props.row.shop }}</span>\n            </el-form-item>\n            <el-form-item label=\"商品 ID\">\n              <span>{{ props.row.id }}</span>\n            </el-form-item>\n            <el-form-item label=\"店铺 ID\">\n              <span>{{ props.row.shopId }}</span>\n            </el-form-item>\n            <el-form-item label=\"商品分类\">\n              <span>{{ props.row.category }}</span>\n            </el-form-item>\n            <el-form-item label=\"店铺地址\">\n              <span>{{ props.row.address }}</span>\n            </el-form-item>\n            <el-form-item label=\"商品描述\">\n              <span>{{ props.row.desc }}</span>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"商品名称\" prop=\"name\">\n      </el-table-column>\n      <el-table-column label=\"所属分类\" prop=\"category\">\n      </el-table-column>\n      <el-table-column label=\"商品价格\" prop=\"price\">\n      </el-table-column>\n      <el-table-column label=\"商品图片\" >\n        <template slot-scope=\"scope\">\n          <el-image style=\"width: 100px; height: 100px\"\n            :src=\"'http://127.0.0.1:5000/upload/imgs/goods_img/'+scope.row.imgUrl\" ></el-image>\n        </template>\n        <!-- <img :src=\"imgUrlFull\" alt=\"\"> -->\n        <!-- <img src=\"http://127.0.0.1:5000/goods/goods_img/\"+\"imgUrl\" alt=\"\"> -->\n      </el-table-column>\n      <el-table-column label=\"商品描述\" prop=\"goodsDesc\">\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n          <!-- 编辑的模态框 -->\n          <el-dialog title=\"编辑商品信息\" :visible.sync=\"dialogFormVisible4Edit\">\n            <!-- <el-form :model=\"form\">\n                <el-form-item label=\"分类名称\" :label-width=\"formLabelWidth\">\n                  <el-input v-model=\"form.cateName\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"分类状态\" :label-width=\"formLabelWidth\">\n                  <el-switch v-model=\"form.state\" @change=\"stateChange\" active-color=\"#13ce66\" inactive-color=\"#ff4949\">\n                  </el-switch>\n                </el-form-item>\n              </el-form> -->\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogFormVisible4Edit = false\">取 消</el-button>\n              <!-- @click='affirmEdit_btn' -->\n              <el-button type=\"primary\">确 定</el-button>\n            </div>\n          </el-dialog>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页器:当前页码,每页条数-->\n    <!--page-sizes:每页条数的数组,page-sizes:可以选择的每页显示的条数,page-size: 默认每页显示的条数,pager:当前页-->\n    <el-pagination width='40px' @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n      :current-page=\"currentPage\" :page-sizes=\"[5, 10, 15]\" :page-size=\"5\"\n      layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\n    </el-pagination>\n  </el-card>\n</template>\n\n<script>\n  // 获取删除添加\n  import {\n    API_GOODS_LIST,\n    API_GOODS_DEL\n    // API_GOODS_EDIT\n  } from \"@/api/apis\";\n  export default {\n    data() {\n      return {\n        // 第几页\n        currentPage: 1,\n        pageSize: 5,\n        // 模态框的显示\n        dialogFormVisible4Edit: false,\n        // 总条数\n        total: 0,\n\n        tableData: [],\n      }\n    },\n    methods: {\n      // 分页:动态每页显示条数\n      handleSizeChange(val) {\n        // console.log(`${val}`);\n        this.pageSize = val; //动态改变\n        // console.log(  this.pageSize );\n        this.acquire_list()\n\n\n        // 改变之后应该停留在当前的页面\n        // this.refresh(this.currentPage)\n      },\n      // 分页:动态当前页,第几页\n      handleCurrentChange(val) {\n        // console.log(`${val}`);\n        //动态改变:每页多少条\n        this.currentPage = val;\n        // console.log( this.currentPage);\n        this.acquire_list()\n\n\n        // this.refresh(this.currentPage)\n\n      },\n      // 编辑模态框\n      handleEdit(index, row) {\n        // console.log('当前行的数据:',row);\n        // 显示模态框\n        this.dialogFormVisible4Edit = true;\n        // 复制给 form\n        this.form = row\n        // console.log('复制的当前行数据:',this.form);\n        // 当前行原来的状态  ===>模态框的状态 \n      },\n      handleDelete(index, row) {\n        this.$confirm('此操作将永久删除该数据, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          API_GOODS_DEL(row.id).then(res => {\n            if (res.data.code == 0) {\n              // 重新渲染\n              this.refresh()\n              this.$message({\n                showClose: true,\n                message: \"删除成功~\",\n                type: \"success\"\n              });\n            }\n          });\n        })\n        // console.log(row.id);\n      },\n      // 获取列表\n      acquire_list() {\n        API_GOODS_LIST(this.currentPage, this.pageSize).then(res => {\n          // console.log(res.data.data);\n          // 总条数\n          this.total = res.data.total;\n          // 数据\n          this.tableData = res.data.data;\n\n          // for(let i of this.tableData ){\n          //   i.imgUrlFull=\n          //   console.log(i.imgUrlFull);\n\n          // }\n          // this.imgUrl=res.data.data;\n\n\n          // console.log( this.imgUrl);\n        })\n      }\n    },\n    created() {\n      this.acquire_list()\n    },\n  };\n</script>\n\n<style lang=\"less\">\n  .box-card {\n    .list {\n      width: 100%;\n      line-height: 40px;\n      border-bottom: 1px solid #ccc;\n\n    }\n\n    .demo-table-expand {\n      font-size: 0;\n    }\n\n    .demo-table-expand label {\n      width: 90px;\n      color: #99a9bf;\n    }\n\n    .demo-table-expand .el-form-item {\n      margin-right: 0;\n      margin-bottom: 0;\n      width: 50%;\n    }\n\n    .el-input__inner {\n      width: 100px !important;\n    }\n  }\n</style>"]}]}