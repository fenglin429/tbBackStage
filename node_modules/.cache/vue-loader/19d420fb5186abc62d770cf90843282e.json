{"remainingRequest":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fenglin/Desktop/study/backstage/src/pages/Index.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/fenglin/Desktop/study/backstage/src/pages/Index.vue","mtime":1591586603658},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/css-loader/dist/cjs.js","mtime":1590894352757},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1590894353459},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/postcss-loader/src/index.js","mtime":1590894353111},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/less-loader/dist/cjs.js","mtime":1591183686071},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/cache-loader/dist/cjs.js","mtime":1590894340264},{"path":"/Users/fenglin/Desktop/study/backstage/node_modules/vue-loader/lib/index.js","mtime":1590894353459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKYXsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY29sb3I6ICMzMzM7Cn0KLm5hbWUgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiAtNHB4OwogIGxlZnQ6IC0xMHB4OwogIGNvbHVtbnM6ICMwMjAyMDI7OwoKCn0KCi5lbC1kcm9wZG93biB7CiAgdG9wOiA4cHg7Cn0KCiNhcHAgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7CiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQgIWltcG9ydGFudDsKICAvKiBoZWlnaHQ6IDEwMCU7ICovCn0KCmg1IHsKICBjb2xvcjogI2ZmZjsKICBoZWlnaHQ6IDQwcHg7CiAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgZm9udC1zaXplOiAxOHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmVsLWljb24tbWlsay10ZWEgewogIGZvbnQtc2l6ZTogNDBweDsKfQoKLmVsLWhlYWRlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsKICBwYWRkaW5nLXRvcDogMTBweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwp9CgouZWwtbWFpbiB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBtYXJnaW4tdG9wOiAxMHB4OwogIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgMC4wNCk7Cn0KCi5lbC1hc2lkZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzU2NWM2MzsKICBjb2xvcjogIzMzMzsKfQoKLmVsLW1lbnUgewogIGJvcmRlcjogMDsKfQoKLmJnQ29sb3JzIHsKICBjb2xvcjogIzU1NTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1Owp9CgojYXBwIHsKICBoZWlnaHQ6IDEwMCU7CiAgZGlzcGxheTogZmxleDsKfQoKLmVsLWNvbnRhaW5lciB7CiAgaGVpZ2h0OiAxMDAlOwogIGJhY2tncm91bmQtY29sb3I6ICNmMGYyZjU7Cn0KCi8qIOWwvumDqCAqLwo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"Index.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <el-container>\n    <el-aside width=\"200px\">\n      <i class=\"el-icon-milk-tea\"></i>\n      <h5>外卖管理系统</h5>\n      <!-- default-active:当前选中的激活的菜单 -->\n      <!--unique-opened:只可以展开一个菜单 -->\n      <el-menu router unique-opened :default-active=\"this.$route.path\" class=\"el-menu-vertical-demo\"\n        background-color=\"#545c64\" text-color=\"#fff\" active-text-color=\"#ffd04b\">\n        <!--右侧树菜单-->\n        <div v-for=\"item in  newlist\" :key=\"item.index\">\n          <!--可以展开的带二级路由-->\n          <el-submenu v-if=\"item.children\" :index=\"item.index\">\n            <!-- 一级路由 -->\n            <span slot=\"title\">\n              <i :class=\"item.icls\"></i>\n              {{item.title}}\n            </span>\n            <!-- 二级 -->\n            <el-menu-item v-for=\"itemTwo in  item.children\" :key=\"itemTwo.index\" :index=\"itemTwo.index\">\n              <span slot=\"title\">{{itemTwo.title}}</span>\n            </el-menu-item>\n          </el-submenu>\n          <!-- 不可展开的只有一级路由 -->\n          <el-menu-item v-else :index=\"item.index\">\n            <i :class=\"item.icls\"></i>\n            <span slot=\"title\">{{item.title}}</span>\n          </el-menu-item>\n        </div>\n      </el-menu>\n    </el-aside>\n    <el-container>\n      <el-header style=\"line-height:60px\" router>\n        <!-- 面包屑-->\n        <el-breadcrumb separator=\"/\">\n          <el-breadcrumb-item v-for=\"item in  breadcrumb\" :key=\"item\">{{item}}</el-breadcrumb-item>\n        </el-breadcrumb>\n        <div>\n          <p class=\"name\">\n            欢迎您,{{name}}\n          </p>\n          <el-dropdown>\n            <!-- shape=\"square\" :size=\"size\"  :src=\"personal.imgUrl\"-->\n            <el-avatar :src='img_url'></el-avatar>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>\n                  <router-link to='/index/personal'>个人中心</router-link>\n              </el-dropdown-item>\n              <el-dropdown-item>\n                <router-link to='/'>退出登录</router-link>\n              </el-dropdown-item>\n\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n      </el-header>\n      <el-main>\n        <!-- 二级路由出口 -->\n        <router-view />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n<script>\n  import { API_ACCOUNTINFO,API_CHECKTOKEN } from \"@/api/apis\";\n  export default {\n    data() {\n      return {\n        img_url: '',\n        // 用户的权限\n        role:'',\n        // treelist:左侧树形菜单动态数据\n        // index:要跳转的hash\n        // icls:树形选项卡前面的图标\n        // title:名字\n        // children:一级菜单下面的二级菜单,有children\n        treelist: [\n          // <!-- 1.后台首页 -->\n          {\n            index: \"/index/home\",\n            icls: \"el-icon-s-home\",\n            title: \"后台首页\",\n            role:['super','normal']\n          },\n          // <!-- 2.订单管理 -->\n\n          {\n            index: \"/index/order\",\n            icls: \"el-icon-document-remove\",\n            title: \"订单管理\",\n            role:['super','normal']\n\n          },\n          // <!-- 3.商品管理 -->\n          {\n            index: \"3\",\n            icls: \"el-icon-s-goods\",\n            title: \"商品管理\",\n            role:['super','normal'],\n            children: [{\n                index: \"/index/list\",\n                title: \"商品列表\"\n              },\n              {\n                index: \"/index/goodsAdd\",\n                title: \"商品添加\"\n              },\n              {\n                index: \"/index/classify\",\n                title: \"商品分类\"\n              }\n            ]\n          },\n          // <!-- 4.店铺管理 -->\n          {\n            index: \"/index/shops\",\n            icls: \"el-icon-s-goods\",\n            title: \"店铺管理\",\n            role:['super'],\n\n          },\n          //   <!-- 5.账号管理 -->\n\n          {\n            index: \"/index/personal\",\n            icls: \"el-icon-s-custom\",\n            title: \"账号管理\",\n            role:['super'],\n\n            children: [{\n                index: \"/index/accountlist\",\n                title: \"账号列表\"\n              },\n              {\n                index: \"/index/addaccount\",\n                title: \"添加账户\"\n              },\n              {\n                index: \"/index/change\",\n                title: \"修改密码\"\n              }\n            ]\n          },\n          // <!-- 6.销售统计 -->\n          {\n            index: \"6\",\n            icls: \"el-icon-pie-chart\",\n            title: \"销售统计\",\n            role:['super'],\n            children: [{\n                index: \"/index/commodity\",\n                title: \"商品统计\"\n              },\n              {\n                index: \"/index/indent\",\n                title: \"订单统计\"\n              }\n            ]\n          }\n        ],\n        // 面包屑\n        breadcrumb: [\"首页\"],\n        // 激活\n        defaultActive: \"\"\n      };\n    },\n    //监听数据的变化\n    watch: {\n      // 监听路由\n      $route: {\n        // val:路由数据\n        handler: function (val) {\n          // console.log()\n          this.changebreadlist(val.path);\n          // console.log(window._indexthis)\n        }\n      },\n      // 深度监听\n      deep: true\n    },\n    methods: {\n      // 面包屑函数\n      changebreadlist(val) {\n        // console.log(val.path);\n        switch (val) {\n          case \"/index/home\":\n            this.breadcrumb = [\"首页\"];\n            break;\n          case \"/index/personal\":\n            this.breadcrumb = [\"首页\", \"个人中心\"];\n            break;\n          case \"/index/order\":\n            this.breadcrumb = [\"订单管理\"];\n            break;\n          case \"/index/list\":\n            this.breadcrumb = [\"商品管理\", \"商品列表\"];\n            break;\n          case \"/index/goodsAdd\":\n            this.breadcrumb = [\"商品管理\", \"商品添加\"];\n            break;\n          case \"/index/classify\":\n            this.breadcrumb = [\"商品管理\", \"商品分类\"];\n            break;\n          case \"/index/shops\":\n            this.breadcrumb = [\"店铺管理\"];\n            break;\n          case \"/index/accountlist\":\n            this.breadcrumb = [\"账号管理\", \"账号列表\"];\n            break;\n          case \"/index/addaccount\":\n            this.breadcrumb = [\"账号管理\", \"添加账户\"];\n            break;\n\n          case \"/index/change\":\n            this.breadcrumb = [\"账号管理\", \"修改密码\"];\n            break;\n\n          case \"/index/commodity\":\n            this.breadcrumb = [\"销售统计\", \"商品统计\"];\n            break;\n          case \"/index/indent\":\n            this.breadcrumb = [\"销售统计\", \"订单统计\"];\n            break;\n        }\n      },\n\n    },\n    computed: {\n      newlist(){\n        return this.treelist.filter(item=> item.role.includes(this.role))\n      }\n    },\n\n    created() {\n      // this.$route.path;\n      // console.log(this.$route.path);\n      // 在页面加载后,获取当前的 hash,当前的 hash\n      //确定 this 的指向\n      window._indexthis = this;\n      // 面包屑\n      this.changebreadlist(this.$route.path);\n      // 获取用户名,id,token\n      this.name = window.localStorage.user_name;\n      this.id = window.localStorage.user_id;\n      this.token = window.localStorage.token;\n      this.role=localStorage.role;\n      // console.log(this.role);\n      // 获取头像\n      API_ACCOUNTINFO(this.id).then(res => {\n        this.img_url = res.data.accountInfo.imgUrl\n        // this.personal = res.data.accountInfo;\n        // console.log(this.img_url);\n      });\n      // 验证 token\n      API_CHECKTOKEN (this.token).then(res=>{\n        if(res.data.code==1 ||res.data.code==5001){\n          // 失败 跳转到登录\n           this.$router.push(\"/\");\n          //  \n        }\n      })\n    }\n  };\n</script>\n\n\n<style lang='less'>\n  a{\n    text-decoration: none;\n    color: #333;\n  }\n  .name {\n    display: inline-block;\n    position: relative;\n    top: -4px;\n    left: -10px;\n    columns: #020202;;\n\n\n  }\n\n  .el-dropdown {\n    top: 8px;\n  }\n\n  #app {\n    display: flex;\n    justify-content: flex-start !important;\n    align-items: flex-start !important;\n    /* height: 100%; */\n  }\n\n  h5 {\n    color: #fff;\n    height: 40px;\n    line-height: 50px;\n    font-size: 18px;\n    text-align: center;\n  }\n\n  .el-icon-milk-tea {\n    font-size: 40px;\n  }\n\n  .el-header {\n    background-color: #ffffff;\n    padding-top: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .el-main {\n    background-color: #fff;\n    margin-top: 10px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\n  }\n\n  .el-aside {\n    background-color: #565c63;\n    color: #333;\n  }\n\n  .el-menu {\n    border: 0;\n  }\n\n  .bgColors {\n    color: #555;\n    background-color: #f5f5f5;\n  }\n\n  #app {\n    height: 100%;\n    display: flex;\n  }\n\n  .el-container {\n    height: 100%;\n    background-color: #f0f2f5;\n  }\n\n  /* 尾部 */\n</style>"]}]}